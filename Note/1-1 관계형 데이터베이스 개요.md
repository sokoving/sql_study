# 관계형 데이터베이스 개요
## 1. 데이터베이스와 관계형 데이터베이스
### 데이터베이스
- 특정 기업이나 조직, 개인이 필요에 의해
 + 데이터를 일정한 형태로 저장해놓은 것을 의미한다.
### DBMS(Data Management System)
- 효율적으로 데이터를 관리하고
 + 예기치 못한 사건으로 인한 데이터의 손상을 피하며 
 + 필요시 데이터 복구하기 위한 소프트웨어 시스템 
## 관계형 데이터베이스(Relational Databse, RDB)
- 정규화를 토대로 합리적인 모델링 구축해 
 + 이상(ANOMALY) 현상을 제거하고 
 + 데이터 중복을 피하며
 + 동시성 관리, 병행 제어를 통해 
 + 다수의 사용자들이 동시에 데이터를 공유, 조작할 수 있게 한다
- 메타 데이터를 총괄 관리하여
 + 데이터의 성격, 속성, 표현 방법 등을 체계화하고
 + 데이터를 표준화 해 품질을 확보할 수 있다
- 보안 기능
 + 인증된 사용자만이 DBMS를 참조할 수 있다
- 데이터 무결성(Integrity)
 + 테이블 생성 시에 제약 조건을 이용하여
 + 조건에 위배되는 데이터를 입력 방지하고
 + 관계를 연결하는 중요 데이터를 삭제하는 것을 막는다
- 돌발 상황이 발생해도
 + 사용자가 입력, 수정, 삭제하던 데이터가 제대로 반영되고
 + 데이터를 회복, 복구할 수 있는 기능을 제공한다.

## 2. SQL(Structured Query Language)
- 관계형 데이터베이스에서 데이터 정의, 조작, 제어하기 위해 사용하는 언어
- 사용자는 SQL을 통해 데이터베이스와 대화할 수 있다.
- [사용자] -SQL문→ [데이터 베이스] -자료→ [사용자]

### SQL문의 종류(종류별 명령어 외우기)
1. [DML](Data Manipulation Language, 데이터 조작어)
 - [SELECT], [INSERT], [UPDATE], [DELETE]
 - CRUD : 데이터를 생성(CREATE - INSERT), 조회(READ - SELECT), 수정(UPDATE), 삭제(DELETE)하는 명령어
2. [DDL](Data Definition Language, 데이터 정의어)
 - [CREATE], [ALTER], [DROP], [RENAME], [TRUNCATE]
 - 데이터 구조를 정의하는 명령어
 - 데이터 구조를 생성(CREATE), 변경(ALTER), 삭제(DROP, TRUNCATE), 이름을 변경(RENAME)하는 명령어 
3. [DCL](Data Control Language, 데이터 제어어)
 - [GRANT], [REVOKE]
 - 데이터 베이스에 접근하고 객체를 사용하도록 권한을 부여(GRANT), 회수(REVOKE)하는 명령어들
4. [TCL](Transaction Control Language, 트랜젝션 제어어)
 - [COMMIT], [ROLLBACK]
 - DML에 의해 조작된 결과를 트랜젝션 단위로 적용(COMMIT), 취소(ROLLBACK)하는 명령어

## 3. 테이블(Table, 표)
- 테이블은 데이터를 저장하는 객체(Object)이며 RDB의 기본 단위이다
- 모든 자료는 테이블에 등록되며, 사용자는 원하는 자료를 테이블에서 꺼내올 수 있다

### 테이블 용어
1. 테이블(Table) : 행과 칼럼으로 구성된 2차원 구조, 데이터의 저장소
2. 칼럼(Column, 열) : 테이블의 세로 방향 데이터, 데이터의 속성의 최소 단위
3. 행(Row) : 테이블의 가로 방향 데이터 
4. 필드(Field) :  칼럽과 행이 겹치는 하나의 공간
5. 정규 형(Normalization)
 + 반복되는 데이터를 테이블과 분할하여
 + 데이터의 정합성을 확보하고 불필요한 중복을 줄이는 프로세스
6. 기본 키(Primary Key, PK, P)
 + 테이블의 각 행을 특정할 수 있게 하는 한 개 이상의 칼럼
 + 배열의 index와 비슷한 역할을 한다
 + 고유하며(UNIQUE) 필수적인 값(NOT NULL)을 기본키로 한다
7.  외부 키/외래 키(Foreign Key, FK, F)
 + 해당 테이블을 다른 테이블과 연결하는 칼럼
 + 다른 테이블의 기본 키가 해당 테이블의 FK가 된다

## 4. E-R 다이어그램(Entity Relationship Diagram, ERD)
- 테이블 간 상관관계를 도식화한 것
- 엔터티(Entity), 관계(Relationship), 속성(Attribute)으로 구성되어 있으며
- 현실세계의 데이터는 이 세 요소로 모두 표현이 가능하다

### ERD 해석
- #: 기본키(PK)
- *: 필수 속성(NOT NULL)
- o: 선택 속성(NULL)
- (FK) : 외래키
- [사원(EMP)]ᗒ──[부서(DEPT)] M:1
   PK: 사원번호  PK: 부서코드
   FK: 부서코드  
- [사원(EMP)]──ᗕ[사원자격증(EMP_CERTI)]ᗒ──[자격증(CERTI)] 1:M:1
                PK: 사원번호, 자격증순번    PK: 자격증코드
                FK: 사원번호, 자격증코드
- ᗒ──ᗕ M:M 관계는 지양

--------------------------------------------------------------------------
# SQL 기본 문법
## 1. 대소문자 구분하지 않으나 명령어는 대문자를 권고한다
## 2. 데이터 유형은 반드시 지정해야 한다
## 3. 주석 :  --
## 4. 작명 관례
- 단수형 권고(예시: 사원들의 데이터를 저장하는 테이블이라도 이름은 사원으로 한다)
- 테이블 이름은 중복을 허용하지 않는다
- 한 테이블 내에서 컬럼 이름은 중복을 허용하지 않는다
- 테이블 명과 칼럼 명은 반드시 문자로 시작(숫자로 시작 X)
- A-Z, a-z, 0-9, _, $, #
- 
## 5. ctrl + enter
 - 커서가 위치한 명령어 단위로 실행됨
 - 명령어는 세미콜론으로 닫는다
 - 전체 실행은 없음
 - 이미 실행된 명령어는 내용을 수정해도 되돌릴 수 없고 수정 명령어를 써야 한다

## 6. 주요 데이터 타입(유형)
 - 선언 유형이 아닌 다른 종류의 데이터가 들어오면 에러 발생한다
 - CHAR(L) : 고정 길이 문자열 / L보다 적게 입력하면 공백을 입력하여 길이를 강제로 맞춘다 
 - VARCHAR2(L) : 가변 길이 문자열 / 값이 L보다 작을 경우 해당 값만큼만 공간 차지 (L의 범위 : 1~4000byte)
 - CLOB : 대용량의 텍스트 데이터를 저장하기 위한 데이터 타입 (최대 4GB)
 - NUMBER(L, D): 정수와 실수를 저장하는 데이터 타입 / L은 D(소숫점 자리)를 포함한 전체 길이
 - DATE: 날짜와 시각 정보 / 년월일시분초를 표현한다

### SQL 데이터 타입 > java 데이터 타입
 - CHAR(L), VARCHAR2(L) > String
 - NUMBER(L) > Int
 - NUMBER(L, D) > Double
 - DATE > LocalDate / LocalTime / LocalDateTime

## 7. 제약조건(CONSTRAINT)
- 데이터의 무결성을 유지하기 위한 방법으로 
 + 특정 칼럼에 제약조건을 설정혀여
 + 사용자가 원하는 조건의 데이터만 생성할 수 있게 한다
### 제약조건의 종류
- [기본 키(Primary Key, P.K)]
 + 테이블에 저장된 행을 식별하기 위한 키
 + 하나의 테이블에 하나의 PK
 + 자동으로 UNIQUE, NOT NULL 제약이 걸린다
 + 테이블 생성할 때 필수 요소는 아님, 후에 조건에 맞는 칼럼을 PK로 수정 가능
- [외래 키(Foreign Key, F.K)]
 + 참조무결성 제약조건
 + 다른 테이블의 기본 키가 해당 테이블의 외래 키가 된다
- [고유 키(UNIQUE)]
 + 행 데이터의 중복을 허용하지 않는다
 + NULL 가능
 + UNIQUE 제약조건을 걸지 않으면 중복 허용
- [NOT NULL(N.N)]
 + 값이 필수적으로 들어가야 칼럼
 + 공백이나 0, 공집합은 NULL이 아니다.
 + NOT NULL 제약조건을 걸지 않으면 NULL값 가능
- [CHECK]
 + 입력할 수 있는 값의 종류, 범위를 제한한다
- [DEFAULT]
 + 칼럼의 값을 입력하지않을 경우 NULL값 대신 자동으로 입력되는 값을 설정한다
